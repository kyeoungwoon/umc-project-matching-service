pre-commit:
  parallel: true
  commands:
    frontend-eslint:
      glob: "frontend/**/*.{js,ts,jsx,tsx}"
      run: |
        echo "ğŸ” ========================================="
        echo "ğŸ”§ Running ESLint on frontend staged files..."
        echo "ğŸ” ========================================="
        cd frontend && pnpm exec eslint {staged_files} --fix || exit 1
        echo "âœ… ESLint completed successfully!"
      stage_fixed: true
    prettier:
      glob: "frontend/**/*.{js,ts,jsx,tsx,json,yaml,md,css}"
      run: |
        echo "ğŸ’… ========================================="
        echo "ğŸ¨ Running Prettier on frontend staged files..."
        echo "ğŸ’… ========================================="
        pnpm exec prettier --write {staged_files} || exit 1
        echo "âœ… Code formatting completed!"
      stage_fixed: true
    type-check:
      glob: "frontend/**/*.{ts,tsx}" # TS íŒŒì¼ ë³€ê²½ ì‹œì—ë§Œ
      run: |
        echo "ğŸ” ========================================="
        echo "ğŸ“ Running TypeScript type checking (frontend)..."
        echo "ğŸ” ========================================="
        cd frontend && pnpm type-check || exit 1
        echo "âœ… Type checking completed successfully!"

pre-push:
  commands:
    frontend-build:
      glob: "frontend/**/*" # frontend ë³€ê²½ ì‹œì—ë§Œ ë¹Œë“œ
      run: |
        echo "ğŸš€ ========================================="
        echo "ğŸš€ Starting frontend build for push verification..."
        echo "ğŸš€ ========================================="
        echo "ğŸ“Š Step 1/2: Running type check..."
        if cd frontend && pnpm type-check; then
          echo "âœ… Type check passed successfully!"
          echo "ğŸ“Š Step 2/2: Building frontend..."
          echo "ğŸ”¨ ========================================="
          echo "ğŸ—ï¸ Running production build..."
          echo "ğŸ”¨ ========================================="
          cd frontend && pnpm build || exit 1
          echo "ğŸ‰ ========================================="
          echo "âœ… Frontend build completed successfully!"
          echo "ğŸš€ Ready to push!"
          echo "ğŸ‰ ========================================="
        else
          echo "âŒ ========================================="
          echo "âŒ Frontend type check failed!"
          echo "ğŸš« Build skipped - fix type errors first"
          echo "âŒ ========================================="
          exit 1
        fi
